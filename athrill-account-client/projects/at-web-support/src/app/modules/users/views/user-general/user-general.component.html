<at-assets-content-layout [title]="'Users List'">

	<ng-template #headerRightContents>
		<at-assets-button-icon 
			[title]="'Register User'" 
			[icon]="'person_add'" 
			[color]="'accent'"
			[disabled]="!canAdd()"
			(onClick)="onRegisterUserClick()">
		</at-assets-button-icon>
		<at-assets-menus [menuItems]="moreActions"></at-assets-menus>
	</ng-template>

	<at-assets-grid
		[hasPagination]="true"
		[displayedColumns]="displayedColumns"
		[gridDataSource]="gridDataSource"
		[gridState]="gridState"
		[defaultGridState]="defaultGridState"
		[sortItems]="sortItems"
		[filterItems]="filterItems"
		(onSelection)="onSelection($event)" 
		(onDoubleClick)="onDoubleClick($event)"
		(onGridStateChange)="onGridStateChange($event)"
	>

		<at-assets-loader *ngIf="isContentLoading"></at-assets-loader>

		<ng-container matColumnDef="Image">
			<th mat-header-cell *matHeaderCellDef> Image </th>
			<td mat-cell *matCellDef="let row"> 
				<div class="grid-image-container">
					<img src="{{ row.Image | atNetworkImage  }}" class="grid-image" />	 
				</div>
			</td>
		</ng-container>

		<ng-container matColumnDef="FullName">
			<th mat-header-cell *matHeaderCellDef> Name </th>
			<td mat-cell *matCellDef="let row"> {{row.FullName}} </td>
		</ng-container>

		<ng-container matColumnDef="Email">
			<th mat-header-cell *matHeaderCellDef> Email </th>
			<td mat-cell *matCellDef="let row"> {{row.Email}} </td>
		</ng-container>

		<ng-container matColumnDef="PhoneNumber">
			<th mat-header-cell *matHeaderCellDef> Phone Number </th>
			<td mat-cell *matCellDef="let row"> {{row.PhoneNumber}} </td>
		</ng-container>

		<ng-container matColumnDef="Role">
			<th mat-header-cell *matHeaderCellDef> Role </th>
			<td mat-cell *matCellDef="let row"> {{row.UserRoleLink.UserRole.DisplayName}} </td>
		</ng-container>

		<ng-container matColumnDef="IsActive">
			<th mat-header-cell *matHeaderCellDef> Active Status </th>
			<td mat-cell *matCellDef="let row"> {{row.IsActive ? "Yes" : "No"}} </td>
		</ng-container>

	</at-assets-grid>

</at-assets-content-layout>