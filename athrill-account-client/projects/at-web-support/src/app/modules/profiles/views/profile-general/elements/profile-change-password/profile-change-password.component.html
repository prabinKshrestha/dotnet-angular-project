<at-assets-add-edit-dialog
    [title]="'Change Password'"
>
    <at-assets-loader *ngIf="showLoader"></at-assets-loader>
    <at-assets-form
        #atForm
        [isValid]="isValid()"
        [subscription]="processForm()"
        (onProcess)="processProcessing($event)"
        (onSubmission)="processSubmission($event)"
        (onSuccess)="processSuccess($event)"
        (onFailure)="processFailure($event)"
        (onCancel)="processCancel($event)"
    >
        <div class="form-group">
            <at-assets-input-text
                #OldPassword
                label="Old Password"
                name="OldPassword"
                [(ngModel)]="activeModel.OldPassword"
                [required]="true"
                [inputType]="'password'"
            >
            </at-assets-input-text>
            <at-assets-input-error *ngIf="atForm.form.submitted && OldPassword.model.invalid &&  OldPassword.model.errors.required">
                Old Password is required.
            </at-assets-input-error>
        </div>
        <div class="form-group">
            <at-assets-input-text
                #NewPassword
                label="New Password"
                name="NewPassword"
                [(ngModel)]="activeModel.NewPassword"
                [required]="true"
                [inputType]="'password'"
            >
            </at-assets-input-text>
            <at-assets-input-error *ngIf="atForm.form.submitted && NewPassword.model.invalid &&  NewPassword.model.errors.required">
                New Password is required.
            </at-assets-input-error>
        </div>
        <div class="form-group">
            <at-assets-input-text
                #NewConfirmationPassword
                label="New Confirmation Password"
                name="NewConfirmationPassword"
                [(ngModel)]="activeModel.NewConfirmationPassword"
                [required]="true"
                [inputType]="'password'"
            >
            </at-assets-input-text>
            <at-assets-input-error *ngIf="atForm.form.submitted && NewConfirmationPassword.model.invalid &&  NewConfirmationPassword.model.errors.required">
                New Confirmation Password is required.
            </at-assets-input-error>
            <at-assets-input-error *ngIf="atForm.form.submitted && NewPassword.value !=  NewConfirmationPassword.value">
                Password do not match.
            </at-assets-input-error>
        </div>
    </at-assets-form>
</at-assets-add-edit-dialog>
